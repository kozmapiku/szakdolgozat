<div class="content">
  <form (ngSubmit)="search(form)" [formGroup]="form" fxLayout="row" fxLayoutGap="16px">
    <mat-form-field appearance="outline" fxFlex>
      <mat-label>Név</mat-label>
      <input formControlName="name" matInput type="text">
    </mat-form-field>
    <mat-form-field appearance="outline" fxFlex>
      <mat-label>Cím</mat-label>
      <input formControlName="address" matInput type="text">
    </mat-form-field>
    <mat-form-field appearance="outline" fxFlex>
      <mat-label>Időpont</mat-label>
      <mat-date-range-input [rangePicker]="picker">
        <input formControlName="fromDate" matStartDate placeholder="Dátum kezdete" readonly>
        <input formControlName="endDate" matEndDate placeholder="Dátum vége" readonly>
      </mat-date-range-input>
      <div matSuffix>
        <mat-datepicker-toggle [for]="picker"></mat-datepicker-toggle>
        <button (click)="deleteRange()" mat-icon-button type="button">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
      <mat-date-range-picker #picker></mat-date-range-picker>
    </mat-form-field>
    <mat-form-field appearance="outline" fxFlex="10%">
      <mat-label>Férőhely</mat-label>
      <input formControlName="guests" matInput type="number">
    </mat-form-field>
    <div fxFlex="10%" style="padding-top: 10px">
      <button color="primary" fxFlex mat-raised-button style="align-self: start;" type="submit">Keresés</button>
    </div>

  </form>
  <div *ngIf="accommodations.length == 0">
    <h1>Nincs találat!</h1>
  </div>
  <div fxLayout="row wrap" fxLayoutGap="16px grid">
    <div *ngFor="let accommodation of accommodations;let index = index" fxFlex="33%" fxFlex.sm="50%" fxFlex.xs="100%">
      <mat-card [routerLink]="['/accommodation', accommodation.id, 'details']" class="mat-elevation-z4">
        <mat-card-header>
          <mat-card-title>{{accommodation.name}}</mat-card-title>
          <mat-card-subtitle>
            <star-rating [rating]="getStar(accommodations[index])" [starType]="'svg'"></star-rating>
          </mat-card-subtitle>
        </mat-card-header>
        <img [src]="'data:image/jpeg;base64,' + accommodation.mainImage" alt="Szállásról egy fénykép" mat-card-image>
        <mat-card-content>
          <p>Férőhely: {{accommodation.maxGuests}}</p>
        </mat-card-content>
        <mat-card-footer>
          <p>Cím: {{accommodation.address}}</p>
        </mat-card-footer>
      </mat-card>
    </div>
  </div>
</div>
